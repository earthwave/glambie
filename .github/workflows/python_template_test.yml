# When pushing to a branch, test
# When adapting this template for your own use, please rename "python_template" to your package name.
name: python_template_test

on:
  push:
    branches-ignore:
      - main  # all branches except main (and implicitly not tags)

jobs:
  build_container_if_needed:
    uses: ./.github/workflows/generic_build_container_if_needed.yml
    with:
      package_name: python_template
    secrets: inherit

  test:
    needs: build_container_if_needed  
    uses: ./.github/workflows/generic_test.yml
    with:
      package_name: python_template
      notebooks_allowed: true
    secrets: inherit
